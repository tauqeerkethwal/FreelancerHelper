@using Freelancer.Model;
@using Freelancer.Model.Models.Schedule;
@using Freelancer.Web.Areas.Admin.ViewModels;
@using Freelancer.Model.Common;
@using Freelancer.Web.Areas.Admin.HelperClasses;
@model ScheduleViewModel
@{


}
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<script src="~/Scripts/Validation.js"></script>
<script src="~/Areas/Admin/Scripts/commonTolkDanmark.js"></script>
<link href="~/Areas/Admin/Cloack/src/clockpicker.css" rel="stylesheet" />
<link href="~/Areas/Admin/Cloack/src/standalone.css" rel="stylesheet" />
<script src="~/Areas/Admin/Cloack/src/clockpicker.js"></script>
<script src="~/Areas/Admin/Scripts/SchedulerValidation.js?i=1.158"></script>

<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Scheduler</h3>
    </div>
    <div class="box-body">

        <form id="Booking" method="post" enctype="multipart/form-data" action="@Url.Action("Index","Scheduler",FormMethod.Post)">
           
           
            <div id="" class="">

                <!-- Modal content-->
                <div class="row ">

                    <div id="formdata" class="modal-body">


                        <div class="formTextSize padding20px">

                            <div class="pull-left col-md-6 col-xs-12">
                                Please Schedule.
                                <h3 class="text-muted">
                                    Scheduler<small class="text-danger"> (*Fields must be filled in) @Html.ValidationSummary()</small>
                                </h3>




                                <div class="form formWH form-group-sm">Employee informaiton</div>

                                <div class="row">
                                    <div class="form-group col-sm-8">
                                        <!-- /.col -->
                                       
                                            <div class="box box-default box-solid">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Select Employee</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                                            <i class="fa fa-minus"></i>
                                                        </button>
                                                    </div>
                                                    <!-- /.box-tools -->
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <div class="box">
                                                        <div class="box-header">
                                                            <h3 class="box-title">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            @Html.DropDownListFor(m => m.EmployeeId, Model.EmployeeList, "Select Employee", new { @class = "form-control" })


                                                                        </td>
                                                                        <td>
                                                                            <button id="AddEmployee" type="button"  class="btn btn-block btn-success btn-sm" style="margin-left:10px">Add Employee</button>

                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </h3>
                                                        </div>
                                                        <!-- /.box-header -->
                                                        <div class="box-body no-padding">
                                                            <table id="Tableemployee">

                                                                @Html.Partial("_EmployeePetRow", new Tuple<List<ScheduleEmployee>, int>(Model.ScheduleEmployees == null ? Model.ScheduleEmployees : Model.ScheduleEmployees, 0))


                                                            </table>
                                                        </div>
                                                        <!-- /.box-body -->
                                                    </div>

                                                </div>
                                                <!-- /.box-body -->
                                            </div>
                                            <!-- /.box -->
                                       
                                        <!-- /.col -->

                                    </div>
                                </div>



                                <div class="row">
                                    <div class="form formWH form-group-sm">Normal Days</div>
                                    <div class="form-group col-sm-8">
                                        <span>@(Days.Mandag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Monday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.MondayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.MondayEndTime, new {  @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>



                                        <span>@(Days.Tirsdag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Tuesday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.TuesdayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.TuesdayEndTime, new {  @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>



                                        <span>@(Days.Onsdag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Wednesday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.WednesdayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.WednesdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>

                                        <span>@(Days.Torsdag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Thursday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.ThursdayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.ThursdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>

                                        <span>@(Days.Fridag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Friday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.FridayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.FridayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>

                                        <span>@(Days.Lørdag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Saturday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.SaturdayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.SaturdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>
                                        <span>@(Days.Søndag.ToString())</span>
                                        @Html.CheckBoxFor(m => m.NormalDays.Sunday)
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.SundayStartTime, new { @type = "text", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>


                                        </div>
                                        <div class="input-group clockpicker">


                                            @Html.TextBoxFor(m => m.NormalDays.SundayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-time"></span>
                                            </span>

                                        </div>

                                    </div>
                                </div>


                                <div class="row">
                                    <div class="form formWH form-group-sm">Week Selection</div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.EveryWeek.ToString())">
                                        <span>@(WeekTypes.EveryWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.EveryWeek,new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.EveryWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.EveryWeek, new { @class = "hiddencheckbox" })

                                    </div>

                                    <div class="form-group col-sm-8" name="@(WeekTypes.EvenWeek.ToString())">
                                        <script>
                                            $("#weekModel_EvenWeekHours").keyup(function () {
                                                $("#weekModel_Every2ndWeekHours").val($("#weekModel_EvenWeekHours").val());
                                            });
                                        </script>
                                        <span>@(WeekTypes.EvenWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.EvenWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.EvenWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                      

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.OddWeek.ToString())">
                                        <span>@(WeekTypes.OddWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.OddWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.OddWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.OddWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.Every1stWeek.ToString())">
                                        <span>@(WeekTypes.Every1stWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.Every1stWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.Every1stWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.Every1stWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.Every2ndWeek.ToString())">
                                        <span>@(WeekTypes.Every2ndWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.Every2ndWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.Every2ndWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.Every2ndWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.Every3rdWeek.ToString())">
                                        <span>@(WeekTypes.Every3rdWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.Every3rdWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.Every3rdWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.Every3rdWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.Every4thWeek.ToString())">
                                        <span>@(WeekTypes.Every4thWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.Every4thWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.Every4thWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.Every4thWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.Every5thWeek.ToString())">
                                        <span>@(WeekTypes.Every5thWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.Every5thWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.Every5thWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.Every5thWeek , new { @class = "hiddencheckbox" })

                                    </div>
                                    <div class="form-group col-sm-8" name="@(WeekTypes.EveryLastWeek.ToString())">
                                        <span>@(WeekTypes.EveryLastWeek.ToString())</span>
                                        @Html.CheckBoxFor(m => m.weekModel.EveryLastWeek, new { @class = "WeekCheckbox" })
                                        @Html.TextBoxFor(m => m.weekModel.EveryLastWeekHours, new { @placeholder = "tid", @onkeypress = "return isfloatKey(event)", @class = "form-control" })
                                        @Html.HiddenFor(m => m.weekModel.EveryLastWeek, new { @class = "hiddencheckbox" })

                                    </div>
                                </div>
                            </div>

               </div>
                                    </div>





                                    <div class="pull-right col-md-6 col-sm-12">
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm"></div>
                                            <div class="form-group col-sm-8"></div>
                                        </div>
                                        <div class="row">
                                            <div class="form formWH form-group-sm">Wish Days</div>
                                            <div class="form-group col-sm-8">
                                                <span>@(Days.Mandag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Monday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.MondayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.MondayEndTime, new {  @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>



                                                <span>@(Days.Tirsdag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Tuesday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.TuesdayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.TuesdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>



                                                <span>@(Days.Onsdag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Wednesday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.WednesdayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.WednesdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>

                                                <span>@(Days.Torsdag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Thursday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.ThursdayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.ThursdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>

                                                <span>@(Days.Fridag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Friday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.FridayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.FridayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>

                                                <span>@(Days.Lørdag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Saturday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.SaturdayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.SaturdayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>
                                                <span>@(Days.Søndag.ToString())</span>
                                                @Html.CheckBoxFor(m => m.WishDays.Sunday)
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.SundayStartTime, new { @type = "text", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>


                                                </div>
                                                <div class="input-group clockpicker">


                                                    @Html.TextBoxFor(m => m.WishDays.SundayEndTime, new { @placeholder = "Endtime", @class = "form-control" })
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>

                                                </div>

                                            </div>
                                        </div>

                                    </div>



                                    <div class="col-lg-3 pull-right">
                                        <div>
                                            <label>&nbsp;</label>
                                            <div>
                                              
                                                <button class="btn btn-success" type="submit" onclick = "return ValidateScheduler(event)">
                                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                                    Add
                                                </button>

                                                <a class="btn btn-default" href="@Url.Action("index")">
                                                    <i class="fa fa-times" aria-hidden="true"></i>
                                                    Clear
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <lable ID="lbluserid"></lable>
                            </div>
                    <div id="SuccessMessage" class="modal-body" style="display:none;height:250px">
                        Tak for din bestilling
                        <a href="@Url.Action("BookingModal","Booking")"><input type="button" name="btnclose" value="Close" id="btnclose"></a>
                    </div>


        </form>

    </div>



</div>

<div class="box box-primary">
    <div class="box-header with-border">

        <div class="row">
            <div class="col-md-6">

                <h3 class="box-title">Available Employee List </h3>

            </div>



        </div>
    </div>
    <!-- /.box-header -->
    <!-- form start -->

    <div class="box-body">



        <table id="myTable" class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>SNo</th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Actions&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Name&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Address&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Email&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Tlf&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Hourly Pay&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2"><nobr>&nbsp;Type&nbsp;</nobr></div></th>
                    <th><div class="col-lg-2">DateCreated</div></th>
                    <th><div class="col-lg-2">Deleted</div></th>
                    <th><div class="col-lg-2">Active</div></th>

                </tr>
            </thead>
            <tbody></tbody>
        </table>


    </div>
    <!-- /.box-body -->

    <div class="box-footer">

    </div>

</div>

@*pet list operations script*@
<script type="text/javascript">
$('.clockpicker').clockpicker({
    placement: 'top',
    align: 'left',
    donetext: 'Done'
});
</script>

<script>
        function ReorderListPet() {
            var PetCollection = JSON.stringify({ 'ScheduleEmployee': createJSONPet(true) });
            var index = $('input[class="ScheduleEmployees"]').length;
            $('#Tableemployee').empty();
            if(index>0)
            {
                var url = '/admin/Scheduler/RemoveScheduleEmployee?index=' + index;
                $.ajax({
                    url: url,
                    contentType: 'application/json; charset=utf-8',
                    type: 'POST',
                    data: PetCollection,
                    success: function (data) {

                        $('#Tableemployee').empty();
                        alert("test")
                        $('#Tableemployee').append('<tr ><td>' + data);
                    },
                    error: function (a, b, c) {
                        alert(a + " " + b + " " + c);
                    }
                });
            }
        }
        function RemoveObjectPet(index) {
            alert(index);
            $('#' + index + '').remove();
            ReorderListPet();
        }
        function createJSONPet(del) {
            jsonObj = [];
            $("input[class=ScheduleEmployees]").each(function () {



                myObj = {}
                myObj["EmployeeId"] = $(this).attr('id').split('_')[1];
                myObj["EmployeeName"] = $(this).val();
                //myObj["PetName"] = $("#ScheduleEmployeesName_" + $(this).attr('id').split('_')[1]).val();


                jsonObj.push(myObj);
            });
            if (del == false) {

                myObj = {}
                myObj["EmployeeId"] = $('#EmployeeId').val();
                myObj["EmployeeName"] = $('#EmployeeId :selected').text();
                jsonObj.push(myObj);
            }

            return jsonObj;
        }


        $('#AddEmployee').click(function () {

            if ($('#EmployeeId option:selected').text() == "Select Employee") {
                return;
            }
            else {
                for (var i = 0; i < $('input[class="ScheduleEmployees"]').length; i++)
                {

                    if ($('#EmployeeId option:selected').text() == $('input[class="ScheduleEmployees"]')[i].value)
                    {
                        return;
                    }
                }
            }

            var index = $('input[class="ScheduleEmployees"]').length;
            ScheduleEmployee = JSON.stringify({ 'ScheduleEmployee': createJSONPet(false) });
            var url = '/admin/Scheduler/AddScheduleEmployee?index=' + index;
         
            $.ajax({
                url: url,
                contentType: 'application/json; charset=utf-8',

                type: 'POST',
                data: ScheduleEmployee,
                success: function (data) {
                    $('#Tableemployee').empty();
                    $('#Tableemployee').append('<tr ><td>' + data);
                },
                error: function (a, b, c) {
                    alert(a + " " + b + " " + c);
                }
            });



        });
</script>
@*end pet list operations script*@
@*CustomerKeyslist opetations script*@






